<!DOCTYPE html>
<html>

<head>
  <title>360DashPlayer</title>

  <!-- 
  <script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
  <script src="https://cdn.dashjs.org/latest/dash.all.min.js"></script>
  <!-- Use components defined in separate files. 
  <script src="js/arrow-key-rotation.js"></script>
  <script src="js/play-on-window-click.js"></script>
  <script src="js/play-on-vrdisplayactivate-or-enter-vr.js"></script>
  <script src="js/hide-once-playing.js"></script>
  <script type="text/javascript" src="js/demo_player.js"></script>
  <script type="text/javascript" src="libs/iso_boxer.min.js"></script>
  <script type="text/javascript" src="libs/hevc_merger.js"></script>
  <script type="text/javascript" src="libs/Chart.bundle.min.js"></script>
  -->



<script src="https://cdn.dashjs.org/latest/dash.all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>	
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>


  <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>
  <div id="app">
 <!-- Single source video. -->
 <video data-dashjs-player autoplay v-bind:src="getVideoUrl()" controls></video>
  </div>
      
  <script>
    var app = new Vue({
      el:'#app',
      data: {
        videos : [ 
         "Fuerteventura/fuerteventura.mpd"
        ]
      },
      methods:{
        getVideoUrl: function(){
          url = window.location.href;
          console.log("Url: "+url);
          var name = "index";
          name = name.replace(/[\[\]]/g, "\\$&");
          console.log("Parameter: "+name);
          var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"), results = regex.exec(url);
  
          var index = decodeURIComponent(results[2].replace(/\+/g, " "));
          console.log("Index: "+index);
          return "http://localhost:80/360DashPlayer/media/"+this.videos[index];
        }
      }
    })
  
  </script>


</body>
</html>
